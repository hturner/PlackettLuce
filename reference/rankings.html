<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Create a "rankings" object from data or convert a matrix of rankings
or ordered items to a "rankings" object.'><title>Rankings Object — rankings • PlackettLuce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Rankings Object — rankings"><meta property="og:description" content='Create a "rankings" object from data or convert a matrix of rankings
or ordered items to a "rankings" object.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PlackettLuce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Overview.html">Introduction to PlackettLuce</a>
    <a class="dropdown-item" href="../articles/PLADMM.html">Plackett-Luce Models with Item Covariates</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/hturner/PlackettLuce/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Rankings Object</h1>
      <small class="dont-index">Source: <a href="https://github.com/hturner/PlackettLuce/blob/HEAD/R/rankings.R" class="external-link"><code>R/rankings.R</code></a></small>
      <div class="d-none name"><code>rankings.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a <code>"rankings"</code> object from data or convert a matrix of rankings
or ordered items to a <code>"rankings"</code> object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre><code>rankings(data, id, item, rank, aggregate = FALSE, verbose = TRUE, ...)

as.rankings(x, ..., verbose = TRUE)

# S3 method for default
as.rankings(
  x,
  input = c("rankings", "orderings"),
  freq = NULL,
  index = NULL,
  aggregate = FALSE,
  items = NULL,
  labels = NULL,
  ...,
  verbose = TRUE
)

# S3 method for grouped_rankings
as.rankings(x, ..., verbose = TRUE)

# S3 method for matrix
as.rankings(
  x,
  input = c("rankings", "orderings"),
  freq = NULL,
  index = NULL,
  aggregate = FALSE,
  items = NULL,
  labels = NULL,
  ...,
  verbose = TRUE
)

# S3 method for rankings
[(x, i, j, ..., drop = TRUE, as.rankings = TRUE)

# S3 method for rankings
format(x, width = 40L, ...)</code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>a data frame with columns specified by <code>id</code>, <code>item</code> and
<code>rank</code>.</p></dd>


<dt>id</dt>
<dd><p>an index of <code>data</code> specifying the column containing ranking
IDs.</p></dd>


<dt>item</dt>
<dd><p>an index of <code>data</code> specifying the column containing item
IDs,</p></dd>


<dt>rank</dt>
<dd><p>an index of <code>data</code> specifying the column containing item
ranks.</p></dd>


<dt>aggregate</dt>
<dd><p>if <code>TRUE</code>, aggregate the rankings via
<code><a href="aggregate.html">aggregate()</a></code> before returning.</p></dd>


<dt>verbose</dt>
<dd><p>logical; if <code>TRUE</code> print messages when changes are made
to rankings data.</p></dd>


<dt>...</dt>
<dd><p>further arguments passed to/from methods.</p></dd>


<dt>x</dt>
<dd><p>for <code>as.rankings</code>, a matrix with one column per item and one
row per ranking, or an object that can be coerced to such as matrix; for
<code>[</code> and <code>format</code>, a <code>"rankings"</code> object.</p></dd>


<dt>input</dt>
<dd><p>for <code>as.rankings</code>, whether rows in the input matrix
contain numeric <code>"rankings"</code> (dense, standard/modified competition or
fractional rankings) or <code>"orderings"</code>, i.e. the items ordered by rank.</p></dd>


<dt>freq</dt>
<dd><p>an optional column index (number, character or logical)
specifying a column of <code>x</code> that holds ranking frequencies, or a vector
of ranking frequencies. If provided, an <code>"aggregated_rankings"</code> object
will be returned.</p></dd>


<dt>index</dt>
<dd><p>an optional column index (number, character or logical)
specifying a column of <code>x</code> that holds a grouping index, or a
numeric vector to for grouping. If provided, the rankings will be grouped by
<code><a href="group.html">group()</a></code> before returning.</p></dd>


<dt>items</dt>
<dd><p>for <code>input = "orderings"</code>, a character vector specifying
the full set of items. Values in <code>x</code> are matched to this by value (if
character) or position (if numeric). Use <code><a href="decode.html">decode()</a></code> for orderings requiring
more complex decoding.</p></dd>


<dt>labels</dt>
<dd><p>for <code>input = "orderings"</code> an optional vector of labels for
the items, corresponding to the sorted unique values of <code>x</code>.</p></dd>


<dt>i</dt>
<dd><p>indices specifying rankings to extract, as for <code><a href="https://rdrr.io/r/base/Extract.html" class="external-link">[</a></code>.</p></dd>


<dt>j</dt>
<dd><p>indices specifying items to extract, as for <code><a href="https://rdrr.io/r/base/Extract.html" class="external-link">[</a></code>.</p></dd>


<dt>drop</dt>
<dd><p>if <code>TRUE</code> return single row/column matrices as a vector.</p></dd>


<dt>as.rankings</dt>
<dd><p>if <code>TRUE</code> return a rankings object, otherwise return
a matrix/vector.</p></dd>


<dt>width</dt>
<dd><p>the width in number of characters to format each ranking -
rankings that are too wide will be truncated.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>By default, a <code>"rankings"</code> object, which is a
matrix of dense rankings with methods for several generics including
<code><a href="aggregate.html">aggregate</a></code>, <code>[</code>, <code>format</code>, <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code> and
<code><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix()</a></code>.</p>


<p>If the object is created with <code>aggregate = TRUE</code>, or ranking frequencies are
specified via <code>freq</code>, the rankings are post-processed to create an
<code>"aggregated_rankings"</code> object.</p>


<p>If a group index is specified via <code>index</code>, the (possibly aggregated) rankings
are post-processed to create a <code>"grouped_rankings"</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each ranking in the input data will be converted to a dense ranking, which
rank items from 1 (first place) to \(n_r\) (last place). Items not ranked
should have a rank of 0 or <code>NA</code>. Tied items are given the same rank with no
rank skipped. For example 1, 0, 2, 1, ranks the first and fourth items in
first place and the third item in second place; the second item is unranked.</p>
<p>Records in <code>data</code> with missing <code>id</code> or <code>item</code> are dropped. Duplicated items
in the rankings are resolved if possible: redundant or inconsistent ranks
are set to <code>NA</code>. Rankings with only 1 item are set to <code>NA</code> (rankings with
zero items are automatically treated as <code>NA</code>). Any issues
causing records to be removed or recoded produce a message if
<code>verbose = TRUE</code>.</p>
<p>For <code>as.rankings</code> with <code>input = "orderings"</code>, unused ranks may be filled with
zeroes for numeric <code>x</code> or <code>NA</code>. It is only necessary to have as many columns
as ranks that are used.</p>
<p>The method for <code>[</code> will return a reduced rankings object by default,
recoding as dense rankings and setting invalid rankings to <code>NA</code> as necessary.
To extract rows and/or columns of the rankings as a matrix or vector,
set <code>as.rankings = FALSE</code>, see examples.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create rankings from data in long form</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example long form data</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>ranking <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                letter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span>, <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>                           <span class="va">LETTERS</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span><span class="op">:</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ranking 1 has different rank for same item, but order of items unambiguous</span></span></span>
<span class="r-in"><span><span class="co"># all ranks are missing in ranking 2</span></span></span>
<span class="r-in"><span><span class="co"># some ranks are missing in ranking 3</span></span></span>
<span class="r-in"><span><span class="co"># ranking 4 has inconsistent ranks for two items and a rank with missing item</span></span></span>
<span class="r-in"><span><span class="co"># ranking 5 is fine - an example of a tie</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span><span class="op">$</span><span class="va">ranking</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ranking letter rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1      A    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       1      B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       1      C    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       1      C    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ranking letter rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       2      A   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       2      B   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       2      C   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       2      D   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ranking letter rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        3      B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       3      C    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       3      D   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12       3      E   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`4`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ranking letter rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       4      A    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       4      B    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15       4      A    4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16       4   &lt;NA&gt;    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`5`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ranking letter rank</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       5      C    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18       5      D    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19       5      E    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fix issues when creating rankings object</span></span></span>
<span class="r-in"><span><span class="fu">rankings</span><span class="op">(</span><span class="va">x</span>, id <span class="op">=</span> <span class="st">"ranking"</span>, item <span class="op">=</span> <span class="st">"letter"</span>, rank <span class="op">=</span> <span class="st">"rank"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removed records with unknown id or item</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Duplicated items within rankings: set redundant/inconsistent to `NA`.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Recoded rankings that are not in dense form</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Rankings with only 1 item set to `NA`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           1           2           3           4           5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "B &gt; A"          NA     "B &gt; C"          NA "C = D &gt; E" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># convert existing matrix of rankings</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>              <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>,</span></span>
<span class="r-in"><span>              <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span></span>
<span class="r-in"><span>              <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>              <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span></span>
<span class="r-in"><span>              <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">6</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"orange"</span>, <span class="st">"pear"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fu">as.rankings</span><span class="op">(</span><span class="va">R</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># first three rankings</span></span></span>
<span class="r-in"><span><span class="va">R</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "apple &gt; banana"                 "banana &gt; orange &gt; pear &gt; apple"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "banana = orange = pear &gt; apple"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># exclude pear from the rankings</span></span></span>
<span class="r-in"><span><span class="va">R</span><span class="op">[</span>, <span class="op">-</span><span class="fl">4</span><span class="op">]</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Recoded rankings that are not in dense form</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "apple &gt; banana"          "banana &gt; orange &gt; apple"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "banana = orange &gt; apple" "apple &gt; banana &gt; orange"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "banana = orange &gt; apple" "apple &gt; orange"         </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract rankings 2 and 3 as numeric matrix</span></span></span>
<span class="r-in"><span><span class="va">R</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, , as.rankings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      apple banana orange pear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]     4      1      2    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]     2      1      1    1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same as</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      apple banana orange pear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]     4      1      2    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]     2      1      1    1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract rankings for item 1 as a vector</span></span></span>
<span class="r-in"><span><span class="va">R</span><span class="op">[</span>,<span class="fl">1</span>, as.rankings <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 4 2 1 2 1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Heather Turner, Ioannis Kosmidis, David Firth.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

