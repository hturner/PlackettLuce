<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is a subset of data from trials of bean varieties
(Phaseolus vulgaris L.)
in Nicaragua over five growing seasons. Farmers were asked to try three
varieties of bean from a total of ten varieties and to rank them in order of
preference. In addition, for each variety the farmers were asked to compare
each trial variety to the local variety and state whether they considered it
to be better or worse."><title>Preferred Bean Varieties in Nicaragua — beans • PlackettLuce</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Preferred Bean Varieties in Nicaragua — beans"><meta property="og:description" content="This is a subset of data from trials of bean varieties
(Phaseolus vulgaris L.)
in Nicaragua over five growing seasons. Farmers were asked to try three
varieties of bean from a total of ten varieties and to rank them in order of
preference. In addition, for each variety the farmers were asked to compare
each trial variety to the local variety and state whether they considered it
to be better or worse."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PlackettLuce</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Overview.html">Introduction to PlackettLuce</a>
    <a class="dropdown-item" href="../articles/PLADMM.html">Plackett-Luce Models with Item Covariates</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/hturner/PlackettLuce/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Preferred Bean Varieties in Nicaragua</h1>
      <small class="dont-index">Source: <a href="https://github.com/hturner/PlackettLuce/blob/HEAD/R/beans.R" class="external-link"><code>R/beans.R</code></a></small>
      <div class="d-none name"><code>beans.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a subset of data from trials of bean varieties
(<em>Phaseolus vulgaris</em> L.)
in Nicaragua over five growing seasons. Farmers were asked to try three
varieties of bean from a total of ten varieties and to rank them in order of
preference. In addition, for each variety the farmers were asked to compare
each trial variety to the local variety and state whether they considered it
to be better or worse.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="va">beans</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A data frame with 842 records and 14 variables:</p><dl><dt><code>variety_a</code></dt>
<dd><p>The name of variety A in the comparison.</p></dd>

<dt><code>variety_b</code></dt>
<dd><p>The name of variety B in the comparison.</p></dd>

<dt><code>variety_c</code></dt>
<dd><p>The name of variety C in the comparison.</p></dd>

<dt><code>best</code></dt>
<dd><p>The variety the farmer ranked in first place ("A",
"B" or "C").</p></dd>

<dt><code>worst</code></dt>
<dd><p>The variety the farmer ranked in last place ("A",
"B" or "C").</p></dd>

<dt><code>var_a</code></dt>
<dd><p>How the farmer ranked variety A compared to the local
variety ("Worse" or "Better").</p></dd>

<dt><code>var_b</code></dt>
<dd><p>How the farmer ranked variety B compared to the local
variety ("Worse" or "Better").</p></dd>

<dt><code>var_c</code></dt>
<dd><p>How the farmer ranked variety C compared to the local
variety ("Worse" or "Better").</p></dd>

<dt><code>season</code></dt>
<dd><p>A factor specifying the growing season ("Po - 15",
"Ap - 15", "Pr - 16", "Po - 16", "Ap - 16".</p></dd>

<dt><code>year</code></dt>
<dd><p>The year of planting.</p></dd>

<dt><code>maxTN</code></dt>
<dd><p>The maximum temperature at night during the
vegetative cycle (degrees Celsius).</p></dd>

<dt><code>lon</code></dt>
<dd><p>The geographic coordinate longitude (X axis) for where
the plot was established.</p></dd>

<dt><code>lat</code></dt>
<dd><p>The geographic coordinate latitude (Y axis) for where
the plot was established.</p></dd>

<dt><code>planting_date</code></dt>
<dd><p>A Date, specifying the start date of
planting the trial.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>van Etten, J. et al. (2019) <em>PNAS</em>, <b>116</b> (10), 4194--4199,
<a href="https://doi.org/10.1073/pnas.1813720116" class="external-link">doi:10.1073/pnas.1813720116</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There are three crop seasons in Central America:</p><dl><dt>Primera</dt>
<dd><p>May - August.</p></dd>

<dt>Postrera</dt>
<dd><p>September - October.</p></dd>

<dt>Apante</dt>
<dd><p>November - January.</p></dd>


</dl><p>Beans can be planted near the beginning of each season, though are most
commonly planted in the Postrera or Apante seasons.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Consider the best and worst rankings. These give the variety the</span></span></span>
<span class="r-in"><span><span class="co"># farmer thought was best or worst, coded as A, B or C for the</span></span></span>
<span class="r-in"><span><span class="co"># first, second or third variety assigned to the farmer</span></span></span>
<span class="r-in"><span><span class="co"># respectively.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">beans</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"best"</span>, <span class="st">"worst"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   best worst</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    C     A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    B     A</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fill in the missing item</span></span></span>
<span class="r-in"><span><span class="va">beans</span><span class="op">$</span><span class="va">middle</span> <span class="op">&lt;-</span> <span class="fu"><a href="complete.html">complete</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"best"</span>, <span class="st">"worst"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                         items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"best"</span>, <span class="st">"middle"</span>, <span class="st">"worst"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   best middle worst</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    C      B     A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    B      C     A</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This gives an ordering of the three varieties the farmer was</span></span></span>
<span class="r-in"><span><span class="co"># given. The names of these varieties are stored in separate</span></span></span>
<span class="r-in"><span><span class="co"># columns</span></span></span>
<span class="r-in"><span><span class="va">varieties</span> <span class="op">&lt;-</span> <span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variety_a"</span>, <span class="st">"variety_b"</span>, <span class="st">"variety_c"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">varieties</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     variety_a       variety_b   variety_c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 BRT 103-182      SJC 730-79 PM2 Don Rey</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   INTA Rojo INTA Centro Sur INTA Sequia</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use these names to decode the orderings of order 3</span></span></span>
<span class="r-in"><span><span class="va">order3</span> <span class="op">&lt;-</span> <span class="fu"><a href="decode.html">decode</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"best"</span>, <span class="st">"middle"</span>, <span class="st">"worst"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                 items <span class="op">=</span> <span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variety_a"</span>, <span class="st">"variety_b"</span>, <span class="st">"variety_c"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                 code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now consider the paired comparisons agains the local variety</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"var_a"</span>, <span class="st">"var_b"</span>, <span class="st">"var_c"</span><span class="op">)</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   var_a  var_b  var_c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Worse  Worse Better</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Worse Better Better</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert these results to a vector and get the corresponding trial variety</span></span></span>
<span class="r-in"><span><span class="va">outcome</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"var_a"</span>, <span class="st">"var_b"</span>, <span class="st">"var_c"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">trial_variety</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">beans</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variety_a"</span>, <span class="st">"variety_b"</span>, <span class="st">"variety_c"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a data frame of the implied orderings of order 2</span></span></span>
<span class="r-in"><span><span class="va">order2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Winner <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">==</span> <span class="st">"Worse"</span>,</span></span>
<span class="r-in"><span>                                     <span class="st">"Local"</span>, <span class="va">trial_variety</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     Loser <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">==</span> <span class="st">"Worse"</span>,</span></span>
<span class="r-in"><span>                                    <span class="va">trial_variety</span>, <span class="st">"Local"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>, row.names <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">order2</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Winner       Loser</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Local BRT 103-182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Local   INTA Rojo</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Finally combine the rankings of order 2 and order 3</span></span></span>
<span class="r-in"><span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="rankings.html">as.rankings</a></span><span class="op">(</span><span class="va">order3</span>, input <span class="op">=</span> <span class="st">"orderings"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           <span class="fu"><a href="rankings.html">as.rankings</a></span><span class="op">(</span><span class="va">order2</span>, input <span class="op">=</span> <span class="st">"orderings"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "PM2 Don Rey &gt; SJC 730-79 &gt; BRT 103-182"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "INTA Centro Sur &gt; INTA Sequia &gt; INTA ..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "INTA Ferroso &gt; INTA Matagalpa &gt; BRT  ..."</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "INTA Rojo &gt; INTA Centro Sur &gt; ALS 0532-6"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "PM2 Don Rey &gt; INTA Sequia &gt; SJC 730-79"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "ALS 0532-6 &gt; INTA Matagalpa &gt; INTA Rojo" </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">R</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "INTA Sequia &gt; Local"    "INTA Sequia &gt; Local"    "BRT 103-182 &gt; Local"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "Local &gt; INTA Matagalpa" "Local &gt; INTA Rojo"      "Local &gt; SJC 730-79"    </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Heather Turner, Ioannis Kosmidis, David Firth.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

